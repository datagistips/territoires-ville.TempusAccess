code;lib;map_size;map_color;sur_color;col_name;time_ag_stops;time_ag_sections;time_ag_trips;time_ag_stops_routes;time_ag_routes;time_ag_agencies;day_ag_stops;day_ag_sections;day_ag_trips;day_ag_stops_routes;day_ag_routes;day_ag_agencies;day_ag_paths;needs_zoning;needs_pt
1;Nombre de services;t;f;f;serv_num;count(distinct trip_id_int)::integer;count(distinct trip_id_int)::integer;;count(trip_id_int)::integer;count(distinct trip_id_int)::integer;;(%(day_ag)(serv_num))::numeric(10,2);(%(day_ag)(serv_num))::numeric(10,2);;(%(day_ag)(serv_num))::numeric(10,2);(%(day_ag)(serv_num))::numeric(10,2);;;f;t
2;Heure premier service;f;f;f;first_serv;least(min(arrival_time), min(departure_time));min(departure_time);;min(departure_time);;;(((%(day_ag)(first_serv)::integer)::character varying || 'seconds')::interval)::character varying;(((%(day_ag)(first_serv)::integer)::character varying || 'seconds')::interval)::character varying;;(((%(day_ag)(first_serv)::integer)::character varying || 'seconds')::interval)::character varying;;;;f;t
3;Heure dernier service;f;f;f;last_serv;greatest(max(arrival_time), max(departure_time));max(departure_time);;max(departure_time);;;(((%(day_ag)(last_serv)::integer)::character varying || 'seconds')::interval)::character varying;(((%(day_ag)(last_serv)::integer)::character varying || 'seconds')::interval)::character varying;;(((%(day_ag)(last_serv)::integer)::character varying || 'seconds')::interval)::character varying;;;;f;t
4;Amplitude horaire;t;t;f;time_ampl;;max(departure_time)-min(departure_time);;max(departure_time)-min(departure_time);;;(%(day_ag)(last_serv-first_serv)/3600::double precision)::numeric(10,2);(%(day_ag)(last_serv-first_serv)/3600::double precision)::numeric(10,2);;(%(day_ag)(last_serv-first_serv)/3600::double precision)::numeric(10,2);;;;f;t
5;Temps total (HH:MM:SS);f;f;f;total_time;;%(time_ag)(arrival_time-departure_time);max(arrival_time)-min(departure_time);%(time_ag)(arrival_time - departure_time);;;;(((%(day_ag)(total_time)::integer)::character varying || 'seconds')::interval)::character varying;(((%(day_ag)(total_time)::integer)::character varying || 'seconds')::interval)::character varying;(((%(day_ag)(total_time)::integer)::character varying || 'seconds')::interval)::character varying;;;;f;f
6;Temps total (sec ou min);f;t;t;total_time2;;%(time_ag)(arrival_time-departure_time);max(arrival_time)-min(departure_time);%(time_ag)(arrival_time - departure_time);;;;%(day_ag)(total_time2)::numeric(10,0);%(day_ag)(total_time2)::numeric(10,0);%(day_ag)(total_time2)::numeric(10,0);;;;f;f
7;Distance totale;f;f;f;total_dist;;(st_length(st_transform(geom, 2154))/1000)::double precision;min((st_length(st_transform(geom_trip, 2154))/1000)::double precision);min((st_length(st_transform(geom_trip, 2154))/1000))::numeric(10,3);;;;%(day_ag)(total_dist)::numeric(10,3);%(day_ag)(total_dist)::numeric(10,3);%(day_ag)(total_dist)::numeric(10,3);;;;f;f
8;véh.km (jour);f;t;f;veh_km;;(st_length(st_transform(geom, 2154))/1000*count(distinct trip_id_int))::double precision;;min(st_length(st_transform(geom_trip, 2154))/1000)*count(trip_id_int)::numeric(10,0);sum(st_length(st_transform(geom_trip, 2154))::double precision/1000)::numeric(10,3);sum(st_length(st_transform(geom_trip, 2154))::double precision/1000)::numeric(10,3);;%(day_ag)(veh_km)::numeric(10,3);%(day_ag)(veh_km)::numeric(10,3);%(day_ag)(veh_km)::numeric(10,3);%(day_ag)(veh_km)::numeric(10,3);%(day_ag)(veh_km)::numeric(10,3);;f;t
9;Zones desservies;f;f;f;zones_list;;;;;;;;;;;;;;t;t
10;Population des zones desservies;f;t;f;zones_pop;;;;;;;;;;;;;;t;t
11;Modes de transports utilisés;f;f;f;t_modes;;;;;;;;;;;;;array_agg(step_mode order by step_mode);f;f
12;Temps de parcours du premier au dernier arrêt;f;f;f;stops_time;;;;;;;;;;;;;max(CASE WHEN step_mode = 'Public transport' THEN (last_d_time - first_o_time)::time END);f;t
13;Heure de départ du premier arrêt;f;f;f;dep_stops;;;min(departure_time);;;;;;(((%(day_ag)(dep_stops))::character varying || 'seconds')::interval)::character varying;;;;min(CASE WHEN step_mode = 'Public transport' THEN first_o_time ELSE NULL END);f;t
14;Heure d'arrivée au dernier arrêt;f;f;f;arr_stops;;;max(arrival_time);;;;;;(((%(day_ag)(arr_stops))::character varying || 'seconds')::interval)::character varying;;;;max(CASE WHEN step_mode= 'Public transport' THEN last_d_time ELSE NULL END);f;t
17;Décomposition des temps par mode;f;f;f;compo_time;;;;;;;;;;;;;array_agg(travel_time::time order by step_mode);f;f
18;Décomposition des distances par mode;f;f;f;compo_dist;;;;;;;;;;;;;array_agg(distance/1000 order by step_mode);f;f
19;Liste d'arrêts de correspondance;f;f;f;tran_stops;;;;;;;;;;;;;(max(tran_stops))[2:];f;t
20;Liste d'arrêts desservis;f;f;f;all_stops;;;array_agg(stop_name ORDER BY stop_sequence);;;;;;min(all_stops);;;;;f;t
21;Liste des lignes empruntées;f;f;f;routes;array_agg(DISTINCT route_long_name);array_agg(DISTINCT route_long_name);;;;;;;;;;;;f;t
22;Temps d'attente total;f;f;f;wait_time;;;;;;;;;;;;;max(wait_o_time::time);f;t
23;Nombre de correspondances;f;t;f;tran_numb;;;;;;;;;;;;;;f;t
24;Vitesse (km/h);f;t;f;speed_kmh;;;;;;;;;;;;;;f;f
25;Nombre de chang. de mode;f;t;f;mode_chang;;;;;;;;;;;;;;f;t
